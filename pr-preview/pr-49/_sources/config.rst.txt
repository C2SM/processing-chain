.. _config-section:

The Processing Chain uses cases to describe a simulation. A case is a
subdirectory in ``cases/``, containing a ``config.yaml`` and several
`namelists` (for example ``int2lm_INPUT.cfg``) which define the
simulation.

.. _config.yaml:

Configuration File
------------------

The configuration file contains most of the information that the :ref:`jobs<jobs-section>` need to prepare and run the simulation, for example the location of the input data.
This configuration-file is imported as a module in ``run_chain.py``, and therefore
it can contain python expression which are evaluated at runtime.

..
    Creating these tables by hand is a pain. Use the script/csv in the tables/ director

|

General variables in ``run_chain.py``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Here is a list of configuration variables used in the main script of the Processing Chain:

+------------------------+------------------------------------------------------------------------+
| Variable               | Description                                                            |
+========================+========================================================================+
| case_path              | The path to the case directory under 'cases/' for the specified        |
|                        | casename.                                                              |
+------------------------+------------------------------------------------------------------------+
| casename               | The name of the case.                                                  |
+------------------------+------------------------------------------------------------------------+
| chain_src_dir          | The source directory for the processing chain, typically the current   |
|                        | working directory.                                                     |
+------------------------+------------------------------------------------------------------------+
| compute_account        | The compute account to be used based on user information.              |
+------------------------+------------------------------------------------------------------------+
| constraint             | The computational constraint ('gpu' or 'mc').                          |
+------------------------+------------------------------------------------------------------------+
| convert_gas            | Switch for unit conversion for 'reduce_output' job.                    |
+------------------------+------------------------------------------------------------------------+
| cosmo_restart_in       | The path to the COSMO model restart input directory.                   |
+------------------------+------------------------------------------------------------------------+
| cosmo_restart_out      | The path to the COSMO model restart output directory.                  |
+------------------------+------------------------------------------------------------------------+
| email                  | The user's email address, initially set to None and updated using the  |
|                        | set_email method.                                                      |
+------------------------+------------------------------------------------------------------------+
| enddate                | The end date of the simulation.                                        |
+------------------------+------------------------------------------------------------------------+
| force                  | Boolean indicating whether to force the processing chain to redo all   |
|                        | specified jobs.                                                        |
+------------------------+------------------------------------------------------------------------+
| job_list               | List of job-names to be executed.                                      |
+------------------------+------------------------------------------------------------------------+
| last_cosmo_output      | The path to the last COSMO model output in spin-up simulations.        |
+------------------------+------------------------------------------------------------------------+
| log_finished_dir       | The directory for finished log files.                                  |
+------------------------+------------------------------------------------------------------------+
| log_working_dir        | The directory for working log files.                                   |
+------------------------+------------------------------------------------------------------------+
| meteo.dir              | The path to the meteorological input data directory.                   |
+------------------------+------------------------------------------------------------------------+
| meteo.inc              | Increment for meteorological input data.                               |
+------------------------+------------------------------------------------------------------------+
| meteo.prefix           | Prefix for meteorological input data.                                  |
+------------------------+------------------------------------------------------------------------+
| model                  | The model used in the simulation.                                      |
+------------------------+------------------------------------------------------------------------+
| mpich_cuda             | CUDA-related environment variables, set based on the configuration     |
|                        | settings.                                                              |
+------------------------+------------------------------------------------------------------------+
| ntry                   | Amount of time the cosmo job is re-tried before crashing.              |
+------------------------+------------------------------------------------------------------------+
| ntasks_per_node        | The number of tasks per node, based on the node type ('gpu' or 'mc').  |
+------------------------+------------------------------------------------------------------------+
| output_levels          | Number of levels for output.                                           |
+------------------------+------------------------------------------------------------------------+
| restart_step_hours     | The restart step in hours, derived from the 'restart_step' attribute.  |
+------------------------+------------------------------------------------------------------------+
| resume                 | Boolean indicating whether to resume the processing chain by           |
|                        | restarting the last unfinished job.                                    |
+------------------------+------------------------------------------------------------------------+
| run_on                 | The architecture the model runs on ('cpu' or 'gpu').                   |
+------------------------+------------------------------------------------------------------------+
| spinup                 | Spin-up duration in hours.                                             |
+------------------------+------------------------------------------------------------------------+
| startdate              | The start date of the simulation.                                      |
+------------------------+------------------------------------------------------------------------+
| user_mail              | The user's email address, determined based on system configuration.    |
+------------------------+------------------------------------------------------------------------+
| user_name              | The username of the current user, obtained from the 'USER' environment |
|                        | variable.                                                              |
+------------------------+------------------------------------------------------------------------+
| work_root              | The root directory for processing chain execution, typically located   |
|                        | under the source directory.                                            |
+------------------------+------------------------------------------------------------------------+



Variables to set in ``config.yaml``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following list shows the variables that are typically set in the configuration file, i.e., they
are not set by the Processing Chain directly or are overwritten by the user configuration.

+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| **Variable**        | **Description**                                                                                                                         | **Used in**                                                                           |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``model``           | **COSMO** or **COSMOART**, defaults to **COSMO** if omitted                                                                             | all                                                                                   |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``constraint``      | Either 'gpu' or 'mc'. Controls on which nodes int2lm and cosmo run. Make sure your executables are compiled for the chosen architecure. | :func:`jobs.cosmo.main`, :func:`jobs.icon.main`, :func:`jobs.int2lm.main`             |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``run_on``          | Either 'gpu' or 'mc'. Controls on which nodes int2lm and cosmo run. Make sure your executables are compiled for the chosen architecure. | :func:`jobs.cosmo.main`, :func:`jobs.icon.main`, :func:`jobs.int2lm.main`             |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``mail_address``    | The processing-chain sends encountered errors to this address                                                                           | :func:`jobs.tools.__init__.send_mail`                                                 |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``compute_host``    | On which infrastructure the processing chain is run. Usually 'daint'                                                                    | :func:`jobs.post_cosmo.main`, :func:`jobs.icon.main`, :func:`jobs.reduce_output.main` |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``compute_queue``   | Either 'debug' or 'normal'                                                                                                              | :func:`jobs.int2lm.main`, :func:`jobs.cosmo.main`, :func:`jobs.icon.main`             |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``compute_account`` | Which project the simulation belongs to                                                                                                 | :func:`jobs.int2lm.main`, :func:`jobs.cosmo.main`, :func:`jobs.icon.main`             |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``chain_src_dir``   | Path to the root of the chain                                                                                                           | all                                                                                   |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``casename``        | Name of the simulation, the same as the directory-name the ``config.yaml``-file is in                                                   | all                                                                                   |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``input_root``      | Path to zhe root of the input-direcetory tree                                                                                           | all                                                                                   |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``output_root``     | Path to where the results, logs and nameslists are copied to after the simulation is done                                               | :func:`jobs.post_cosmo.main`, :func:`jobs.icon.main`                                  |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| ``work_root``       | Path to where the processing chain copies the input files to and starts the simulation from                                             | all                                                                                   |
+---------------------+-----------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+

|

Variables for :func:`jobs.biofluxes.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------+
| **Name**         | **Description**                                                                                                                                                                                                   | **Target**         |
+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------+
| ``vprm_dir``     | Path to the directory containing bioflux-files                                                                                                                                                                    | COSMO              |
+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------+
| ``vprm_prefix``  | Prefix of the the bioflux-files. Filenames are assumed to be ``{vprm_prefix}YYYYMMDDHH.nc``. If multiple bioflux-datasets exists, this is a list of prefixes. All files are assumed to be in ``vprm_dir``         | COSMO              |
+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------+

|

Variables for :func:`jobs.cosmo.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| **Name**               | **Description**                                                                                                                                | **Target**               |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``cosmo_bin``          | Path to the cosmo(art) executable                                                                                                              | COSMO, COSMO-ART         |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``cosmo_namelist``     | Path to the cosmo namelist-templates, ending in ``cosmo_INPUT_``. The ending, for example ``IO`` or ``ORG``, is added by the cosmo-job         | COSMO, COSMO-ART         |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``cosmo_runjob``       | Path to the cosmo runjob-template                                                                                                              | COSMO, COSMO-ART         |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``cosmo_walltime``     | Requested time for the cosmo slurm-batchjob                                                                                                    | COSMO, COSMO-ART         |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``cosmo_nodes``        | Number of nodes for the cosmo slurm-batchjob                                                                                                   | COSMO, COSMO-ART         |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``ntasks_per_node``    | Number of tasks per node                                                                                                                       | COSMO, COSMO-ART         |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``cosmo_np_x``         | Number of processes in the x direction                                                                                                         | COSMO, COSMO-ART         |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``cosmo_np_y``         | Number of processes in the y direction                                                                                                         | COSMO, COSMO-ART         |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``cosmo_np_io``        | Number of processes for IO                                                                                                                     | COSMO, COSMO-ART         |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``cosmo_np_tot``       | Total number of processes                                                                                                                      | COSMO, COSMO-ART         |
+------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+


Variables for :func:`jobs.emissions.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| **Name**              | **Description**                                                                                                                                                                 | **Target**               |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``emissions_dir``     |  Path to the input directory where the emissions-files are found. If there are multiple emissions-datasets, this is a list of paths to the directories of the datasets.         | COSMO, COSMO-ART         |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``emis_gridname``     | Prefix of the emissions-files. List for multiple datasets. Emission-filenames are assumed to be ``{emis_gridname}YYYYMMDD.nc``                                                  | COSMO, COSMO-ART         |
+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+

|

Variables for :func:`jobs.icon.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| **Name**                     | **Description**                                                                      | **Target**         |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| ``icon_bin``                 | Path to the ICON executable                                                          | ICON               |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| ``icon_runjob``              | Path to the ICON runjob template                                                     | ICON               |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| ``icon_namelist_master``     | Path to the ICON master namelist template                                            | ICON               |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| ``icon_namelist_nwp``        | Path to the ICON NWP namelist template                                               | ICON               |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| ``icon_walltime``            | Requested time for the ICON slurm-batchjob                                           | ICON               |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| ``icon_np_tot``              | Total number of processes                                                            | ICON               |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| ``input_root_mapping``       | Path to the ICON dictionairy files                                                   | ICON               |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| ``map_file_ana``             | Name of the ICON dictionary file for analysis data                                   | ICON               |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| ``latbc_filename``           | Name of the lateral boundary files (including key-words) for LAM-simulations         | ICON               |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+
| ``inidata_filename``         | Name of the intial condition file                                                    | ICON               |
+------------------------------+--------------------------------------------------------------------------------------+--------------------+

|

Variables for :func:`jobs.int2lm.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| **Name**                       | **Description**                                                                               | **Target**               |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``meteo_prefix``               | Prefix of the meteo-files. Meteo-filenames are assumed to be ``{meteo_prefix}YYMMDD``         | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_extpar_dir``          | Path to the directory containing the extpar-file for int2lm                                   | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_extpar_file``         | The name of the int2lm extpar-file                                                            | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_bin``                 | Path to the int2lm executable                                                                 | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_namelist``            | Path to the int2lm namelist-template                                                          | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_runjob``              | Path to the int2lm runjob-template                                                            | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_walltime``            | Requested time for the int2lm slurm-batchjob                                                  | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_nodes``               | Number of nodes for the int2lm slurm-batchjob                                                 | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_ntasks_per_node``     | Number of tasks per node                                                                      | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_np_x``                | Number of processes in the x direction                                                        | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_np_y``                | Number of processes in the y direction                                                        | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_np_tot``              | Total number of processes                                                                     | COSMO, COSMO-ART         |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_libgrib_dir``         | Path to the libgrib-directory used by the int2lm-executable                                   | COSMO-ART                |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_lu_dir``              | Path to the directory containing the landuse file                                             | COSMO-ART                |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_lu_file``             | Filename (inlcuding ending) of the landuse file                                               | COSMO-ART                |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_pft_dir``             | Path to the directory containing the plant functional type file                               | COSMO-ART                |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``int2lm_pft_dir``             | Filename (including ending) of the plant functional type file                                 | COSMO-ART                |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+
| ``post_int2lm_species``        | List of variables for the post_int2lm-job                                                     | COMSO                    |
+--------------------------------+-----------------------------------------------------------------------------------------------+--------------------------+

|

Variables for :func:`jobs.prepare_data.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| **Name**                | **Description**                                                                                                                                                                   | **Target**             |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``meteo_dir``           | Path to the directory where the meteo-files are found. For a nested run, this is the casename of the mother-run. In that case, ``meteo_prefix`` and ```meteo_inc`` can be omitted | COSMO, COSMO-ART, ICON |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``meteo_prefix``        | Prefix of the meteo-files. Meteo-filenames are assumed to be ``{meteo_prefix}YYMMDD``                                                                                             | COSMO, COSMO-ART, ICON |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``meteo_nameformat``    | Format for meteo files                                                                                                                                                            | COSMO, COSMO-ART, ICON |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``meteo_inc``           | Increment in hours between meteo-files                                                                                                                                            | COSMO, COSMO-ART, ICON |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``icontools_dir``       | Path to the icontools executables                                                                                                                                                 | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``iconremap_bin``       | Name of the iconremap executable                                                                                                                                                  | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``iconsub_bin``         | Name of the iconsub executable                                                                                                                                                    | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``icontools_parameter`` | Dictionary containing names of the icontools runscript and namelist templates                                                                                                     | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``mozart_file_orig``    | Path to input-file for mozart-files                                                                                                                                               | COSMO-ART              |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``mozart_dir_proc``     | Path to the processed mozart-files. Processed mozart-files are stored here, if there are files found here then ``file_dir_orig`` is not used                                      | COSMO-ART              |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``mozart_inc``          | Increment in hours between mozart-files                                                                                                                                           | COSMO-ART              |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``mozart_prefix``       | Prefix of the mozart-files                                                                                                                                                        | COSMO-ART              |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``cams_dir_orig``       | Path to input-directory for CAMS-files                                                                                                                                            | COSMO                  |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``cams_dir_proc``       | Path to the processed CAMS-files. Processed CAMS-files are stored here, if there are files found here then ``cams_dir_orig`` is not used                                          | COSMO                  |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``cams_parameters``     | Parameters for the processing of CAMS-data, more information in ``config.yaml`` of example case                                                                                   | COSMO                  |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``icontools_dir``       | Path to the icontools executables                                                                                                                                                 | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``iconremap_bin``       | Name of the iconremap executable                                                                                                                                                  | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``iconsub_bin``         | Name of the iconsub executable                                                                                                                                                    | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``icontools_parameter`` | Dictionary containing names of the icontools runscript and namelist templates                                                                                                     | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``input_root_chem``     | Path to the chemical input files                                                                                                                                                  | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``chem_prefix``         | Prefix of the chemical input files                                                                                                                                                | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+
| ``chem_nameformat``     | Name format of the chemical input files                                                                                                                                           | ICON                   |
+-------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+

|

Variables for :func:`jobs.oae.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+----------------------------------+---------------------------------------------------------------------------------+--------------------+
| **Name**                         | **Description**                                                                 | **Target**         |
+----------------------------------+---------------------------------------------------------------------------------+--------------------+
| ``oae_dir``                      | Path to where the online emission datasets are found                            | COMSO, ICON        |
+----------------------------------+---------------------------------------------------------------------------------+--------------------+
| ``oae_gridded_emissions_nc``     | Name of the main emission netCDF file (online emissions)                        | COSMO, ICON        |
+----------------------------------+---------------------------------------------------------------------------------+--------------------+
| ``oae_vertical_profiles_nc``     | Name of the netCDF file for vertical profile scaling (online emissions)         | COMSO, ICON        |
+----------------------------------+---------------------------------------------------------------------------------+--------------------+
| ``oae_hourofday_nc``             | Name of the netCDF file for 'hour of day' scaling (online emissions)            | COSMO, ICON        |
+----------------------------------+---------------------------------------------------------------------------------+--------------------+
| ``oae_hourofyear_nc``            | Name of the netCDF file for 'hour of year' scaling (online emissions)           | COSMO, ICON        |
+----------------------------------+---------------------------------------------------------------------------------+--------------------+
| ``oae_dayofweek_nc``             | Name of the netCDF file for 'day of week' scaling (online emissions)            | COSMO, ICON        |
+----------------------------------+---------------------------------------------------------------------------------+--------------------+
| ``oae_monthofyear_nc``           | Name of the netCDF file for 'month of year' scaling (online emissions)          | COSMO, ICON        |
+----------------------------------+---------------------------------------------------------------------------------+--------------------+

|

Variables for :func:`jobs.obs_nudging.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| **Name**                     | **Description**                                                                                                                                               | **Target**               |
+------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``bs_nudging_dir``           | Path to where the nudging-datasets are found                                                                                                                  | COSMO, COSMO-ART         |
+------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``obs_nudging_prefixes``     | List of prefixes of nuding-files to copy                                                                                                                      | COMSO, COSMO-ART         |
+------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``obs_nudging_date_format``  | Date format of the nudging-files. If the obs-nudging-file is called ``cdfin_temp-20150204000000-20150205000000``, the dateformat is ``-%Y%m%d%H%M%S``         | COSMO, COSMO-ART         |
+------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+

|

Variables for :func:`jobs.octe.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+------------------+-------------------------------------------------------------------------------------------------------------------------+--------------------+
| **Name**         | **Description**                                                                                                         | **Target**         |
+------------------+-------------------------------------------------------------------------------------------------------------------------+--------------------+
| ``octe_lambdas`` | Path to the netCDF file containing the lambda values used for generating online carbontracker ensembles                 | COSMO              |
+------------------+-------------------------------------------------------------------------------------------------------------------------+--------------------+
| ``octe_maps``    | Path to the netCDF file containing the regional and pft-type maps for generating online carbontracker ensembles         | COSMO              |
+------------------+-------------------------------------------------------------------------------------------------------------------------+--------------------+

|

Variables for :func:`jobs.online_vprm.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+-------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------+
| **Name**                | **Description**                                                                                                                                                              | **Target**         |
+-------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------+
| ``online_vprm_dir``     | Path to the directory containing netCDF files with pre-processed MODIS reflectance (``modis_filename``) and vegetation class fraction (``vegetation_filename``) data         | COSMO              |
+-------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------+
| ``modis_filename``      | Name of the pre-processed MODIS netCDF file                                                                                                                                  | COSMO              |
+-------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------+
| ``vegetation_filename`` | Name of the pre-processed vegetation class fraction netCDF file                                                                                                              | COSMO              |
+-------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------+

|

Variables for :func:`jobs.photo_rate.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+-------------------------+------------------------------------------+--------------------+
| **Name**                | **Description**                          | **Target**         |
+-------------------------+------------------------------------------+--------------------+
| ``photo_rate_file``     | Path to the photolysis-rate file         | COSMO-ART          |
+-------------------------+------------------------------------------+--------------------+

|

Variables for :func:`jobs.post_int2lm.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+-----------------------------+---------------------------------------------------+--------------------+
| **Name**                    | **Description**                                   | **Target**         |
+-----------------------------+---------------------------------------------------+--------------------+
| ``post_int2lm_species``     | List of variables for the post_int2lm-job         | COSMO              |
+-----------------------------+---------------------------------------------------+--------------------+

|

Variables for :func:`jobs.reduce_output.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| **Name**              | **Description**                                                                                                                                                 | **Target**               |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``output_levels``     | Number of output levels (starting from ground level) for the ``reduce_output`` job, defaults to ``-1`` if omitted, which means that all levels are kept         | COSMO, COSMO-ART         |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+
| ``convert_gas``       | Switch to convert the unit of trace gases to ppm or ppb. This leads to a better compression rate. Defaults to ``True`` of omitted.                              | COSMO, COSMO-ART         |
+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------+

|

Variables for :func:`jobs.verify_chain.main`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------+
| **Name**              | **Description**                                                                                                                                                                                                                                                                                                                           | **Target**                     |
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------+
| ``reference_dir``     | Path to the reference output                                                                                                                                                                                                                                                                                                              | COSMO, COSMO-ART, ICON         |
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------+
| ``output_dir``        | Path to the output of cosmo. If the :func:`jobs.post_cosmo.main` job is executed, this can be set to ``None`` and the path of the post_cosmo-job will be used                                                                                                                                                                             | COSMO, COSMO-ART, ICON         |
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------+
| ``values_to_check``   | Which files and variables are compared. This is a dict with a tuple of filenames as key. The first key element is the filename of the reference file, the second key element is the filename of the output-file of cosmo (usually ``lffdYYYYMMDDHH.nc`` and the value is a list of variables to compare between these two files)          | COSMO, COSMO-ART, ICON         |
+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------+
