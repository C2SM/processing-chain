Search.setIndex({"docnames": ["config", "environment", "file-structure", "howtorun", "index", "jobs", "namelists", "tools"], "filenames": ["config.rst", "environment.rst", "file-structure.rst", "howtorun.rst", "index.rst", "jobs.rst", "namelists.rst", "tools.rst"], "titles": ["Configuration File", "Conda environment", "File Structure", "How to Run", "Processing Chain", "Overview", "Namelist Templates", "Tools"], "terms": {"The": [0, 1, 3, 4, 5, 6, 7], "process": [0, 1, 3, 5], "chain": [0, 1, 5], "us": [0, 1, 5, 6, 7], "case": [0, 1, 2, 3, 4, 6], "describ": [0, 5], "simul": 0, "A": [0, 6], "i": [0, 1, 3, 4, 5, 6], "subdirectori": 0, "contain": [0, 2, 5, 6], "yaml": [0, 1, 2, 3], "sever": [0, 4], "namelist": [0, 2, 3, 4], "exampl": [0, 3, 6], "int2lm_input": [0, 3], "cfg": [0, 2, 3, 6], "which": [0, 1, 3, 5, 6], "defin": 0, "most": [0, 7], "inform": [0, 6], "overview": [0, 4], "need": [0, 1, 4], "prepar": [0, 4], "run": [0, 1, 4, 6], "locat": [0, 1, 6], "input": [0, 3, 4], "data": [0, 4, 7], "thi": [0, 3, 5], "import": [0, 5], "modul": 0, "run_chain": [0, 2, 3, 5], "therefor": [0, 3], "can": [0, 1, 3, 4, 5], "python": [0, 3, 4, 6], "express": 0, "ar": [0, 1, 2, 5, 6, 7], "evalu": 0, "runtim": 0, "name": [0, 3, 4], "descript": 0, "target": [0, 3, 5], "cosmoart": [0, 3, 5], "default": [0, 1, 3], "omit": 0, "all": [0, 1, 2, 6], "subtarget": 0, "none": 0, "spinup": [0, 2], "constraint": 0, "either": 0, "gpu": 0, "mc": 0, "control": 0, "node": 0, "make": [0, 5], "sure": [0, 5], "your": [0, 1, 4], "execut": [0, 3, 6], "compil": 0, "chosen": [0, 3], "architecur": 0, "mail_address": 0, "send": 0, "encount": 0, "error": 0, "address": [0, 1], "tool": [0, 2, 4, 6], "__init__": [0, 5], "send_mail": 0, "compute_host": 0, "On": 0, "infrastructur": 0, "usual": 0, "daint": [0, 4], "post_cosmo": [0, 3, 5], "compute_queu": 0, "debug": 0, "normal": [0, 6], "compute_account": [0, 1], "project": [0, 1], "belong": 0, "chain_src_dir": 0, "path": [0, 1, 2], "root": [0, 3], "casenam": [0, 3], "same": [0, 5, 6], "directori": [0, 1, 3, 5, 6], "input_root": 0, "zhe": 0, "direcetori": 0, "tree": 0, "output_root": [0, 3], "where": [0, 2, 3], "result": [0, 5, 6], "log": 0, "nameslist": 0, "copi": 0, "after": 0, "done": [0, 6], "work_root": [0, 3], "start": 0, "from": [0, 3, 5, 6], "vprm_dir": 0, "vprm_prefix": 0, "prefix": [0, 1, 6], "filenam": 0, "assum": 0, "yyyymmddhh": 0, "nc": [0, 6], "If": [0, 1, 3], "multipl": 0, "dataset": 0, "exist": 0, "list": [0, 4, 7], "cosmo_bin": 0, "art": [0, 2, 3, 4], "cosmo_namelist": 0, "templat": [0, 2, 3, 4], "end": 0, "cosmo_input_": 0, "io": 0, "org": 0, "ad": [0, 4], "cosmo_runjob": 0, "runjob": 0, "cosmo_walltim": 0, "request": 0, "time": [0, 3], "slurm": [0, 6], "batchjob": 0, "cosmo_nod": 0, "number": 0, "ntasks_per_nod": 0, "task": 0, "per": [0, 3], "cosmo_np_x": 0, "x": 0, "direct": 0, "cosmo_np_i": 0, "y": 0, "cosmo_np_io": 0, "cosmo_np_tot": 0, "total": 0, "emissions_dir": 0, "found": [0, 1], "emis_gridnam": 0, "yyyymmdd": 0, "icon_bin": 0, "icon_runjob": 0, "icon_namelist_mast": 0, "master": 0, "icon_namelist_nwp": 0, "nwp": 0, "icon_walltim": 0, "icon_np_tot": 0, "input_root_map": 0, "dictionairi": 0, "map_file_ana": 0, "dictionari": 0, "analysi": 0, "latbc_filenam": 0, "later": 0, "boundari": 0, "includ": 0, "kei": 0, "word": 0, "lam": 0, "inidata_filenam": 0, "intial": 0, "condit": 0, "meteo_prefix": 0, "meteo": 0, "yymmdd": 0, "int2lm_extpar_dir": 0, "extpar": 0, "int2lm_extpar_fil": 0, "int2lm_bin": 0, "int2lm_namelist": 0, "int2lm_runjob": 0, "int2lm_walltim": 0, "int2lm_nod": 0, "int2lm_ntasks_per_nod": 0, "int2lm_np_x": 0, "int2lm_np_i": 0, "int2lm_np_tot": 0, "int2lm_libgrib_dir": 0, "libgrib": 0, "int2lm_lu_dir": 0, "landus": 0, "int2lm_lu_fil": 0, "inlcud": 0, "int2lm_pft_dir": 0, "plant": 0, "function": [0, 3, 4, 5, 6], "type": [0, 1, 3], "post_int2lm_speci": 0, "comso": 0, "meteo_dir": 0, "For": [0, 3, 5, 7], "nest": [0, 3], "mother": [0, 3], "In": [0, 4, 5], "meteo_inc": 0, "meteo_nameformat": 0, "format": [0, 6, 7], "increment": 0, "hour": 0, "between": 0, "icontools_dir": 0, "icontool": 0, "iconremap_bin": 0, "iconremap": 0, "iconsub_bin": 0, "iconsub": 0, "icontools_paramet": 0, "runscript": [0, 6], "mozart_file_orig": 0, "mozart": 0, "mozart_dir_proc": 0, "store": [0, 2, 4], "here": [0, 5, 7], "file_dir_orig": 0, "mozart_inc": 0, "mozart_prefix": 0, "cams_dir_orig": 0, "cam": 0, "cams_dir_proc": 0, "cams_paramet": 0, "paramet": [0, 6], "more": 0, "input_root_chem": 0, "chemic": 0, "chem_prefix": 0, "chem_nameformat": 0, "oae_dir": 0, "onlin": [0, 2], "oae_gridded_emissions_nc": 0, "netcdf": 0, "oae_vertical_profiles_nc": 0, "vertic": 0, "profil": 0, "scale": 0, "oae_hourofday_nc": 0, "dai": 0, "oae_hourofyear_nc": 0, "year": 0, "oae_dayofweek_nc": 0, "week": 0, "oae_monthofyear_nc": 0, "month": 0, "bs_nudging_dir": 0, "nudg": 0, "obs_nudging_prefix": 0, "nude": 0, "obs_nudging_date_format": 0, "date": 0, "ob": 0, "call": [0, 3, 5], "cdfin_temp": 0, "20150204000000": 0, "20150205000000": 0, "dateformat": 0, "m": 0, "d": 0, "h": 0, "": [0, 3, 6], "octe_lambda": 0, "lambda": 0, "valu": [0, 6], "carbontrack": 0, "ensembl": [0, 3], "octe_map": 0, "region": 0, "pft": 0, "map": 0, "online_vprm_dir": 0, "pre": 0, "modi": 0, "reflect": 0, "modis_filenam": 0, "veget": 0, "class": 0, "fraction": 0, "vegetation_filenam": 0, "photo_rate_fil": 0, "photolysi": 0, "rate": 0, "output_level": 0, "output": [0, 3], "level": 0, "ground": 0, "1": [0, 3, 4], "mean": 0, "kept": 0, "convert_ga": 0, "switch": 0, "convert": [0, 7], "unit": 0, "trace": 0, "gase": 0, "ppm": 0, "ppb": 0, "lead": 0, "better": 0, "compress": 0, "true": 0, "reference_dir": 0, "refer": 0, "output_dir": 0, "set": [0, 1, 3], "values_to_check": 0, "compar": 0, "dict": 0, "tupl": 0, "first": [0, 1], "element": 0, "second": 0, "lffdyyyymmddhh": 0, "two": 0, "follow": [1, 3], "step": [1, 3, 4], "allow": 1, "you": [1, 3, 5], "own": [1, 4], "virtual": 1, "we": 1, "recommend": 1, "usag": 1, "provid": 1, "script": [1, 2, 3, 4], "pleas": 1, "instruct": 1, "onli": 1, "perform": 1, "onc": 1, "e": [1, 4], "g": [1, 4], "home": 1, "itself": 1, "should": 1, "otherwis": 1, "risk": 1, "fill": 1, "up": [1, 3], "see": 1, "below": 1, "To": [1, 3], "latest": 1, "wget": 1, "http": 1, "repo": 1, "anaconda": 1, "com": 1, "miniconda3": 1, "linux": 1, "x86_64": 1, "sh": [1, 2], "bash": 1, "further": 1, "detail": 1, "document": [1, 2, 5, 7], "page": [1, 5], "proc": 1, "requir": 1, "env": [1, 2], "f": 1, "yml": [1, 2], "abl": 1, "activ": 1, "simpli": 1, "instead": 1, "full": 1, "add": [1, 5], "bashrc": 1, "export": 1, "conda_envs_path": 1, "sourc": [1, 2, 5], "doe": [1, 4], "work": [1, 3], "alreadi": 1, "have": 1, "want": 1, "updat": 1, "file": [1, 3, 4, 5, 6], "prune": 1, "regist": 1, "email": 1, "standard": [1, 2, 4], "account": 1, "them": 1, "within": 1, "echo": 1, "your_account_id": 1, "acct": 1, "your_email_address": 1, "forward": 1, "These": [1, 6, 7], "option": 1, "check": 1, "content": 1, "those": [1, 7], "desir": 1, "correspond": 1, "variabl": [1, 3, 4, 6], "overridden": 1, "user_mail": 1, "config": [1, 2, 3, 4], "licens": 2, "readm": 2, "md": 2, "py": [2, 3, 4, 5], "main": [2, 3, 4, 5, 6, 7], "folder": 2, "cosmo": [2, 3, 4, 5, 6], "ghg": [2, 3, 4], "test": [2, 3], "restart": [2, 3], "configur": [2, 3], "batch": 2, "job": [2, 3, 6, 7], "testcas": 2, "icon": [2, 3, 4, 5], "global": 2, "domain": 2, "oem": [2, 3], "emiss": [2, 3, 4, 5], "model": [2, 3, 4], "featur": 2, "doc": [2, 5], "conf": 2, "sphinx": 2, "builder": 2, "rst": [2, 5], "restructuredtext": 2, "environ": [2, 4], "conda": [2, 4], "jenkin": 2, "jenkinsfil": 2, "text": 2, "pipelin": 2, "individu": 2, "shell": 2, "src": 2, "code": 2, "spack": 2, "etc": 2, "It": 3, "read": [3, 6], "user": [3, 4], "command": 3, "line": 3, "respect": [3, 5, 6], "Then": 3, "ha": [3, 5], "j": 3, "specifi": 3, "well": [3, 7], "necessari": [3, 4, 6], "int2lm": [3, 4, 5, 6, 7], "don": 3, "t": 3, "suppli": 3, "joblist": 3, "prepare_data": [3, 4, 5, 7], "bioflux": [3, 4, 5], "post_int2lm": [3, 4, 5], "obs_nudg": [3, 4, 5], "photo_r": [3, 4, 5], "iconart": [3, 5], "iconartoem": [3, 5], "oae": [3, 4, 5], "11km": 3, "2015": 3, "01": 3, "0": 3, "24": 3, "06": 3, "26": 3, "2018": 3, "argument": [3, 5], "restart_run": 3, "divid": 3, "simuat": 3, "accord": [3, 4], "each": 3, "sub": 3, "structur": [3, 4], "sequenti": 3, "gener": [3, 4, 6], "look": [3, 7], "like": 3, "chain_root": 3, "int2lm_bas": 3, "int2lm_work": 3, "int2lm_output": 3, "cosmo_bas": 3, "cosmo_work": 3, "cosmo_output": 3, "cosmo_restart_out": 3, "checkpoint": 3, "log_working_dir": 3, "log_finished_dir": 3, "produc": 3, "scratch": 3, "processing_chain": 3, "2015010100_0_24": 3, "extpart": 3, "vprm": 3, "input_": 3, "logfil": 3, "finish": 3, "collect": [4, 7], "submit": 4, "comput": 4, "queue": 4, "piz": 4, "appli": 4, "post": 4, "addit": 4, "version": 4, "al": 4, "handl": 4, "variant": 4, "flexibli": 4, "adapt": 4, "creat": [4, 5], "new": 4, "custom": 4, "instal": 4, "miniconda": 4, "2": 4, "3": 4, "specif": 4, "how": 4, "what": 4, "oct": [4, 5], "online_vprm": [4, 5], "reduce_output": [4, 5], "verify_chain": [4, 5], "avail": 4, "convers": 4, "everi": 5, "choos": 5, "As": 5, "some": 5, "depend": 5, "other": [5, 7], "order": 5, "indic": 5, "check_output": 5, "simpl": 5, "jobnam": 5, "take": [5, 7], "docstr": 5, "access": 5, "find": 5, "also": 6, "essenti": 6, "textfil": 6, "curli": 6, "brace": 6, "get": 6, "string": 6, "replac": 6, "save": 6, "example_namelist": 6, "exvar": 6, "suffix": 6, "pref_suff": 6, "write": 6, "disk": 6, "procedur": 6, "special": 6, "input_art": 6, "input_ghg": 6, "write_int2lm_input_art": 6, "write_cosmo_input_ghg": 6, "csv": 6, "one": 7, "mai": 7, "directli": 7, "thei": 7, "usabl": 7}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"configur": [0, 4], "file": [0, 2], "gener": 0, "variabl": 0, "config": 0, "py": 0, "job": [0, 4, 5], "bioflux": 0, "main": 0, "cosmo": 0, "emiss": 0, "icon": 0, "int2lm": 0, "prepare_data": 0, "oae": 0, "obs_nudg": 0, "oct": 0, "online_vprm": 0, "photo_r": 0, "post_int2lm": 0, "reduce_output": 0, "verify_chain": 0, "conda": 1, "environ": 1, "1": 1, "instal": 1, "miniconda": 1, "2": 1, "creat": 1, "3": 1, "store": 1, "user": 1, "specif": 1, "data": 1, "structur": 2, "how": 3, "run": 3, "start": [3, 4], "chain": [3, 4], "what": 3, "doe": 3, "process": 4, "get": 4, "overview": 5, "ad": 5, "new": 5, "list": 5, "avail": 5, "namelist": 6, "templat": 6, "tool": 7, "convers": 7, "function": 7}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 58}, "alltitles": {"Configuration File": [[0, "configuration-file"]], "General Variables in config.py": [[0, "general-variables-in-config-py"]], "Variables for jobs.biofluxes.main()": [[0, "variables-for-jobs-biofluxes-main"]], "Variables for jobs.cosmo.main()": [[0, "variables-for-jobs-cosmo-main"]], "Variables for jobs.emissions.main()": [[0, "variables-for-jobs-emissions-main"]], "Variables for jobs.icon.main()": [[0, "variables-for-jobs-icon-main"]], "Variables for jobs.int2lm.main()": [[0, "variables-for-jobs-int2lm-main"]], "Variables for jobs.prepare_data.main()": [[0, "variables-for-jobs-prepare-data-main"]], "Variables for jobs.oae.main()": [[0, "variables-for-jobs-oae-main"]], "Variables for jobs.obs_nudging.main()": [[0, "variables-for-jobs-obs-nudging-main"]], "Variables for jobs.octe.main()": [[0, "variables-for-jobs-octe-main"]], "Variables for jobs.online_vprm.main()": [[0, "variables-for-jobs-online-vprm-main"]], "Variables for jobs.photo_rate.main()": [[0, "variables-for-jobs-photo-rate-main"]], "Variables for jobs.post_int2lm.main()": [[0, "variables-for-jobs-post-int2lm-main"]], "Variables for jobs.reduce_output.main()": [[0, "variables-for-jobs-reduce-output-main"]], "Variables for jobs.verify_chain.main()": [[0, "variables-for-jobs-verify-chain-main"]], "Conda environment": [[1, "conda-environment"]], "1. Install Miniconda": [[1, "install-miniconda"]], "2. Create the Conda Environment": [[1, "create-the-conda-environment"]], "3. Store user-specific data": [[1, "store-user-specific-data"]], "File Structure": [[2, "file-structure"]], "How to Run": [[3, "how-to-run"]], "Starting the Chain": [[3, "starting-the-chain"]], "What it Does": [[3, "what-it-does"]], "Processing Chain": [[4, "processing-chain"]], "Getting Started": [[4, null]], "Configuration": [[4, null]], "Jobs": [[4, null]], "Overview": [[5, "overview"]], "Adding new jobs": [[5, "adding-new-jobs"]], "List of available jobs": [[5, "list-of-available-jobs"]], "Namelist Templates": [[6, "namelist-templates"]], "Tools": [[7, "tools"]], "Conversion Functions": [[7, "conversion-functions"]]}, "indexentries": {}})