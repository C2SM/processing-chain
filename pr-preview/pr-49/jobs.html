<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Overview &mdash; Processing Chain v3.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="_static/processing-chain-favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=de725823"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=a5fa425f"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="List of Available Tools" href="tools.html" />
    <link rel="prev" title="Namelist and Runscript Templates" href="namelists.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #5d6d7e" >

          
          
          <a href="index.html">
            
              <img src="_static/processing-chain-logo-small.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                v3.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="features.html">Feature Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Conda Environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="environment.html#install-miniconda">1. Install Miniconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="environment.html#create-the-conda-environment">2. Create the Conda Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="environment.html#store-user-specific-data">3. Store user-specific data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="howtorun.html">How to Run</a><ul>
<li class="toctree-l2"><a class="reference internal" href="howtorun.html#starting-the-chain">Starting the Chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="howtorun.html#what-it-does">What it Does</a></li>
<li class="toctree-l2"><a class="reference internal" href="howtorun.html#test-cases">Test Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="howtorun.html#directory-structure">Directory Structure</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code-structure.html">Code Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration File</a><ul>
<li class="toctree-l2"><a class="reference internal" href="config.html#general-variables-in-run-chain-py">General Variables in <code class="docutils literal notranslate"><span class="pre">run_chain.py</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#variables-to-set-in-config-yaml">Variables to Set in <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="namelists.html">Namelist and Runscript Templates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="namelists.html#jobs.tools.write_int2lm_input_art.main"><code class="docutils literal notranslate"><span class="pre">jobs.tools.write_int2lm_input_art.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="namelists.html#jobs.tools.write_cosmo_input_ghg.main"><code class="docutils literal notranslate"><span class="pre">jobs.tools.write_cosmo_input_ghg.main()</span></code></a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Jobs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="#adding-new-jobs">Adding New Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="#list-of-available-jobs">List of Available Jobs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#jobs.biofluxes.main"><code class="docutils literal notranslate"><span class="pre">jobs.biofluxes.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.check_output.main"><code class="docutils literal notranslate"><span class="pre">jobs.check_output.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.cosmo.main"><code class="docutils literal notranslate"><span class="pre">jobs.cosmo.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.emissions.main"><code class="docutils literal notranslate"><span class="pre">jobs.emissions.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.icon.main"><code class="docutils literal notranslate"><span class="pre">jobs.icon.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.int2lm.main"><code class="docutils literal notranslate"><span class="pre">jobs.int2lm.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.obs_nudging.main"><code class="docutils literal notranslate"><span class="pre">jobs.obs_nudging.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.octe.main"><code class="docutils literal notranslate"><span class="pre">jobs.octe.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.oem.main"><code class="docutils literal notranslate"><span class="pre">jobs.oem.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.online_vprm.main"><code class="docutils literal notranslate"><span class="pre">jobs.online_vprm.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.photo_rate.main"><code class="docutils literal notranslate"><span class="pre">jobs.photo_rate.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.post_cosmo.main"><code class="docutils literal notranslate"><span class="pre">jobs.post_cosmo.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.post_int2lm.main"><code class="docutils literal notranslate"><span class="pre">jobs.post_int2lm.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.prepare_data.main"><code class="docutils literal notranslate"><span class="pre">jobs.prepare_data.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.reduce_output.main"><code class="docutils literal notranslate"><span class="pre">jobs.reduce_output.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#jobs.verify_chain.main"><code class="docutils literal notranslate"><span class="pre">jobs.verify_chain.main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">List of Available Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tools.html#jobs.tools.cams4int2cosmo.main"><code class="docutils literal notranslate"><span class="pre">jobs.tools.cams4int2cosmo.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html#jobs.tools.ctnoaa4int2cosmo.main"><code class="docutils literal notranslate"><span class="pre">jobs.tools.ctnoaa4int2cosmo.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html#jobs.tools.mozart2int2lm.main"><code class="docutils literal notranslate"><span class="pre">jobs.tools.mozart2int2lm.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html#jobs.tools.reduce_output_start_end.main"><code class="docutils literal notranslate"><span class="pre">jobs.tools.reduce_output_start_end.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html#jobs.tools.string2char.main"><code class="docutils literal notranslate"><span class="pre">jobs.tools.string2char.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html#jobs.tools.vprmsplit.main"><code class="docutils literal notranslate"><span class="pre">jobs.tools.vprmsplit.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html#jobs.tools.write_cosmo_input_ghg.main"><code class="docutils literal notranslate"><span class="pre">jobs.tools.write_cosmo_input_ghg.main()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html#jobs.tools.write_int2lm_input_art.main"><code class="docutils literal notranslate"><span class="pre">jobs.tools.write_int2lm_input_art.main()</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #5d6d7e" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Processing Chain</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/jobs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="overview">
<span id="jobs-section"></span><h1>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h1>
<p>The jobs described here are available for use in the processing chain.
For every model, you can choose from a list of available jobs.
As some jobs depend on the result of others, the order indicated here
has to be respected.</p>
<p><code class="docutils literal notranslate"><span class="pre">cosmo</span></code>:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#jobs.prepare_data.main" title="jobs.prepare_data.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.prepare_data.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.int2lm.main" title="jobs.int2lm.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.int2lm.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.cosmo.main" title="jobs.cosmo.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.cosmo.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.check_output.main" title="jobs.check_output.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.check_output.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.reduce_output.main" title="jobs.reduce_output.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.reduce_output.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.post_cosmo.main" title="jobs.post_cosmo.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.post_cosmo.main()</span></code></a> |
<a class="reference internal" href="#jobs.verify_chain.main" title="jobs.verify_chain.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.verify_chain.main()</span></code></a></p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">cosmo-ghg</span></code>:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#jobs.biofluxes.main" title="jobs.biofluxes.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.biofluxes.main()</span></code></a> |
<a class="reference internal" href="#jobs.emissions.main" title="jobs.emissions.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.emissions.main()</span></code></a> |
<a class="reference internal" href="#jobs.online_vprm.main" title="jobs.online_vprm.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.online_vprm.main()</span></code></a> |
<a class="reference internal" href="#jobs.oem.main" title="jobs.oem.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.oem.main()</span></code></a> |
<a class="reference internal" href="#jobs.obs_nudging.main" title="jobs.obs_nudging.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.obs_nudging.main()</span></code></a> |
<a class="reference internal" href="#jobs.prepare_data.main" title="jobs.prepare_data.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.prepare_data.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.int2lm.main" title="jobs.int2lm.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.int2lm.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.post_int2lm.main" title="jobs.post_int2lm.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.post_int2lm.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.octe.main" title="jobs.octe.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.octe.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.cosmo.main" title="jobs.cosmo.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.cosmo.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.check_output.main" title="jobs.check_output.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.check_output.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.reduce_output.main" title="jobs.reduce_output.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.reduce_output.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.post_cosmo.main" title="jobs.post_cosmo.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.post_cosmo.main()</span></code></a> |
<a class="reference internal" href="#jobs.verify_chain.main" title="jobs.verify_chain.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.verify_chain.main()</span></code></a></p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">cosmo-art</span></code>:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#jobs.emissions.main" title="jobs.emissions.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.emissions.main()</span></code></a> |
<a class="reference internal" href="#jobs.photo_rate.main" title="jobs.photo_rate.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.photo_rate.main()</span></code></a> |
<a class="reference internal" href="#jobs.obs_nudging.main" title="jobs.obs_nudging.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.obs_nudging.main()</span></code></a> |
<a class="reference internal" href="#jobs.online_vprm.main" title="jobs.online_vprm.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.online_vprm.main()</span></code></a> |
<a class="reference internal" href="#jobs.oem.main" title="jobs.oem.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.oem.main()</span></code></a> |
<a class="reference internal" href="#jobs.prepare_data.main" title="jobs.prepare_data.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.prepare_data.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.int2lm.main" title="jobs.int2lm.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.int2lm.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.cosmo.main" title="jobs.cosmo.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.cosmo.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.check_output.main" title="jobs.check_output.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.check_output.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.reduce_output.main" title="jobs.reduce_output.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.reduce_output.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.post_cosmo.main" title="jobs.post_cosmo.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.post_cosmo.main()</span></code></a> |
<a class="reference internal" href="#jobs.verify_chain.main" title="jobs.verify_chain.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.verify_chain.main()</span></code></a></p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">icon</span></code>:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#jobs.prepare_data.main" title="jobs.prepare_data.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.prepare_data.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.icon.main" title="jobs.icon.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.icon.main()</span></code></a></p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">icon-art</span></code>:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#jobs.prepare_data.main" title="jobs.prepare_data.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.prepare_data.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.icon.main" title="jobs.icon.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.icon.main()</span></code></a></p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">icon-art-global</span></code>:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#jobs.prepare_data.main" title="jobs.prepare_data.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.prepare_data.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.icon.main" title="jobs.icon.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.icon.main()</span></code></a></p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">icon-art-oem</span></code>:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#jobs.prepare_data.main" title="jobs.prepare_data.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.prepare_data.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.oem.main" title="jobs.oem.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.oem.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.icon.main" title="jobs.icon.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.icon.main()</span></code></a></p></li>
</ol>
</section>
<section id="adding-new-jobs">
<h1>Adding New Jobs<a class="headerlink" href="#adding-new-jobs" title="Permalink to this heading"></a></h1>
<p>Adding a new job to the chain is simple:</p>
<ol class="arabic simple">
<li><p>In the directory <code class="docutils literal notranslate"><span class="pre">jobs/</span></code>, create a file called <code class="docutils literal notranslate"><span class="pre">&lt;jobname&gt;.py</span></code> containing
a function called <code class="docutils literal notranslate"><span class="pre">main</span></code> which takes the same arguments as every other job.
Make sure the function is documented with a docstring.</p></li>
<li><p>Import it in <code class="docutils literal notranslate"><span class="pre">jobs/__init__.py</span></code> to make it accessible to <code class="docutils literal notranslate"><span class="pre">run_chain.py</span></code>.</p></li>
<li><p>Add the function to the documentation. You find the file describing this page
at <code class="docutils literal notranslate"><span class="pre">docs/jobs.rst</span></code>.</p></li>
</ol>
</section>
<section id="list-of-available-jobs">
<h1>List of Available Jobs<a class="headerlink" href="#list-of-available-jobs" title="Permalink to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="#jobs.biofluxes.main" title="jobs.biofluxes.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.biofluxes.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.check_output.main" title="jobs.check_output.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.check_output.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.cosmo.main" title="jobs.cosmo.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.cosmo.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.emissions.main" title="jobs.emissions.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.emissions.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.icon.main" title="jobs.icon.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.icon.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.int2lm.main" title="jobs.int2lm.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.int2lm.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.obs_nudging.main" title="jobs.obs_nudging.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.obs_nudging.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.octe.main" title="jobs.octe.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.octe.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.oem.main" title="jobs.oem.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.oem.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.online_vprm.main" title="jobs.online_vprm.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.online_vprm.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.photo_rate.main" title="jobs.photo_rate.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.photo_rate.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.post_cosmo.main" title="jobs.post_cosmo.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.post_cosmo.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.post_int2lm.main" title="jobs.post_int2lm.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.post_int2lm.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.prepare_data.main" title="jobs.prepare_data.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.prepare_data.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.reduce_output.main" title="jobs.reduce_output.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.reduce_output.main()</span></code></a></p></li>
<li><p><a class="reference internal" href="#jobs.verify_chain.main" title="jobs.verify_chain.main"><code class="xref py py-func docutils literal notranslate"><span class="pre">jobs.verify_chain.main()</span></code></a></p></li>
</ul>
<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.biofluxes.main">
<span class="sig-prename descclassname"><span class="pre">jobs.biofluxes.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/biofluxes.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.biofluxes.main" title="Permalink to this definition"></a></dt>
<dd><p>Prepare biofluxes files for COSMO simulations.</p>
<p>Copies biofluxes files from the project folder (<code class="xref py py-attr docutils literal notranslate"><span class="pre">cfg.vprm['dir']</span></code>)
to the int2lm input folder on scratch (<code class="xref py py-attr docutils literal notranslate"><span class="pre">cfg.int2lm_input</span></code>/vprm).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>Config</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>dict</em>) – Model configuration settings loaded from the models.yaml file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.check_output.main">
<span class="sig-prename descclassname"><span class="pre">jobs.check_output.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/check_output.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.check_output.main" title="Permalink to this definition"></a></dt>
<dd><p>Check output variables for physical reasonability and create plots.</p>
<p>This function checks the output variables to ensure they are in a physically
reasonable range. It stores the time series of the minimum, maximum, mean, and
standard deviation of the variables as a pandas object into a pickle file.</p>
<p>It also creates per-variable plots from the stored time series data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>Config</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>dict</em>) – Model configuration settings loaded from the models.yaml file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.cosmo.main">
<span class="sig-prename descclassname"><span class="pre">jobs.cosmo.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/cosmo.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.cosmo.main" title="Permalink to this definition"></a></dt>
<dd><p>Setup the namelists for a COSMO tracer run and submit the job to the queue.</p>
<p>Necessary for both COSMO and COSMOART simulations.</p>
<p>Decide if the soil model should be TERRA or TERRA multi-layer depending on
the <code class="docutils literal notranslate"><span class="pre">startdate</span></code> of the simulation.</p>
<p>Create necessary directory structure to run COSMO (run, output, and
restart directories, defined in <code class="docutils literal notranslate"><span class="pre">cfg.cosmo_run</span></code>, <code class="docutils literal notranslate"><span class="pre">cfg.cosmo_output</span></code>,
and <code class="docutils literal notranslate"><span class="pre">cfg.cosmo_restart_out</span></code>).</p>
<p>Copy the COSMO-executable from
<code class="docutils literal notranslate"><span class="pre">cfg.cosmo_bin</span></code> to <code class="docutils literal notranslate"><span class="pre">cfg.cosmo_run/cosmo</span></code>.</p>
<p>Convert the tracer-csv-file to a COSMO-namelist file.</p>
<p>Format the COSMO-namelist-templates
(COSMO: <code class="docutils literal notranslate"><span class="pre">AF,ORG,IO,DYN,PHY,DIA,ASS</span></code>,
COSMOART: <code class="docutils literal notranslate"><span class="pre">ART,ASS,DIA,DYN,EPS,INI,IO,ORG,PHY</span></code>)
using the information in <code class="docutils literal notranslate"><span class="pre">cfg</span></code>.</p>
<p>Format the runscript-template and submit the job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>Config</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>dict</em>) – Model configuration settings loaded from the models.yaml file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.emissions.main">
<span class="sig-prename descclassname"><span class="pre">jobs.emissions.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/emissions.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.emissions.main" title="Permalink to this definition"></a></dt>
<dd><p>Copy emission files to the int2lm input directory.</p>
<p>Necessary for both COSMO and COSMOART simulations.</p>
<p>Copy emission files from project folder (<code class="docutils literal notranslate"><span class="pre">cfg.emissions['dir']</span></code>) to
int2lm input folder on scratch (<code class="docutils literal notranslate"><span class="pre">cfg.int2lm_input/emissions</span></code>).</p>
<p>For COSMO simulations, converts the netCDF-variable-names
from <code class="docutils literal notranslate"><span class="pre">string</span></code> to <code class="docutils literal notranslate"><span class="pre">char</span></code> (necessary for int2lm).</p>
<p>If there are multiple emission-datasets (cfg.emissions[‘dir’] is a list of
paths), they are copied as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span><span class="o">.</span><span class="n">emissions</span><span class="p">[</span><span class="s1">&#39;dir&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">cfg</span><span class="o">.</span><span class="n">emissions</span><span class="p">[</span><span class="s1">&#39;gridname&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="n">YYYYMMDD</span><span class="o">.</span><span class="n">nc</span> <span class="o">-&gt;</span> <span class="n">int2lm_input</span><span class="o">/</span><span class="n">emissions</span><span class="o">/</span><span class="n">emis_YYYYMMDD</span><span class="o">.</span><span class="n">nc</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">emissions</span><span class="p">[</span><span class="s1">&#39;dir&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">cfg</span><span class="o">.</span><span class="n">emissions</span><span class="p">[</span><span class="s1">&#39;gridname&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="n">YYYYMMDD</span><span class="o">.</span><span class="n">nc</span> <span class="o">-&gt;</span> <span class="n">int2lm_input</span><span class="o">/</span><span class="n">emissions2</span><span class="o">/</span><span class="n">emis_YYYYMMDD</span><span class="o">.</span><span class="n">nc</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">emissions</span><span class="p">[</span><span class="s1">&#39;dir&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="n">cfg</span><span class="o">.</span><span class="n">emissions</span><span class="p">[</span><span class="s1">&#39;gridname&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="n">YYYYMMDD</span><span class="o">.</span><span class="n">nc</span> <span class="o">-&gt;</span> <span class="n">int2lm_input</span><span class="o">/</span><span class="n">emissions3</span><span class="o">/</span><span class="n">emis_YYYYMMDD</span><span class="o">.</span><span class="n">nc</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>Config</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>dict</em>) – Model configuration settings loaded from the models.yaml file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.icon.main">
<span class="sig-prename descclassname"><span class="pre">jobs.icon.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/icon.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.icon.main" title="Permalink to this definition"></a></dt>
<dd><p>Setup the namelists for an ICON tracer run and submit the job to
the queue.</p>
<p>Necessary for both ICON and ICONART simulations.</p>
<p>Create necessary directory structure to run ICON (run, output, and
restart directories, defined in <code class="docutils literal notranslate"><span class="pre">cfg.icon_work</span></code>, <code class="docutils literal notranslate"><span class="pre">cfg.icon_output</span></code>,
and <code class="docutils literal notranslate"><span class="pre">cfg.icon_restart_out</span></code>).</p>
<p>Copy the ICON-executable from
<code class="docutils literal notranslate"><span class="pre">cfg.icon_binary_file</span></code> to <code class="docutils literal notranslate"><span class="pre">cfg.icon_work/icon.exe</span></code>.</p>
<p>Use the tracer-csv-file to append ICON-namelist file.</p>
<p>Format the ICON-namelist-templates:
<code class="docutils literal notranslate"><span class="pre">icon_master.namelist.cfg,</span> <span class="pre">icon_NAMELIST_NWP.cfg</span></code>,
using the information in <code class="docutils literal notranslate"><span class="pre">cfg</span></code>.</p>
<p>Format the runscript-template and submit the job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>Config</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>dict</em>) – Model configuration settings loaded from the models.yaml file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.int2lm.main">
<span class="sig-prename descclassname"><span class="pre">jobs.int2lm.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/int2lm.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.int2lm.main" title="Permalink to this definition"></a></dt>
<dd><p>Setup the namelist for int2lm and submit the job to the queue.</p>
<p>Necessary for both COSMO and COSMOART simulations.</p>
<p>Decide if the soil model should be TERRA or TERRA multi-layer depending on
<cite>startdate</cite> of the simulation.</p>
<p>Create necessary directory structure to run int2lm (run and output
directories, defined in <code class="docutils literal notranslate"><span class="pre">cfg.int2lm</span></code> and <code class="docutils literal notranslate"><span class="pre">cfg.int2lm['output']</span></code>).</p>
<p>Copy the int2lm-executable from <code class="docutils literal notranslate"><span class="pre">cfg.int2lm['binary_file']</span></code> to
<code class="docutils literal notranslate"><span class="pre">cfg.int2lm['work']/int2lm</span></code>.</p>
<p>Copy the extpar-file <code class="docutils literal notranslate"><span class="pre">cfg.int2lm['extpar_file']</span></code> to
<code class="docutils literal notranslate"><span class="pre">cfg.int2lm_run/work</span></code>.</p>
<p>COSMOART: Copy the <code class="docutils literal notranslate"><span class="pre">libgrib_api</span></code> files to
<code class="docutils literal notranslate"><span class="pre">cfg.int2lm['work']/libgrib_api</span></code>.</p>
<p>COSMO: Convert the tracer-csv-files into an int2lm-namelist file.</p>
<p>Format the int2lm-namelist-template using the information in <code class="docutils literal notranslate"><span class="pre">cfg</span></code>.</p>
<p>Format the runscript-template and submit the job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>Config</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>dict</em>) – Model configuration settings loaded from the models.yaml file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.obs_nudging.main">
<span class="sig-prename descclassname"><span class="pre">jobs.obs_nudging.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/obs_nudging.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.obs_nudging.main" title="Permalink to this definition"></a></dt>
<dd><p>Copy and rename the obs_nudging files to the <strong>COSMO</strong> input directory.</p>
<p>In the folder <code class="docutils literal notranslate"><span class="pre">cfg.obs_nudging_dir</span></code>, the files are saved in the format
<code class="docutils literal notranslate"><span class="pre">{prefix}-YYYYMMDD000000-YYYYMMDD000000</span></code>. <strong>COSMO</strong> expects files in the
format <code class="docutils literal notranslate"><span class="pre">{prefix}x</span></code>, where <code class="docutils literal notranslate"><span class="pre">x</span></code> is <code class="docutils literal notranslate"><span class="pre">[nothing],</span> <span class="pre">.2,</span> <span class="pre">.3,</span> <span class="pre">.4,</span> <span class="pre">...</span></code>. This
job handles this filename-change and copies them to the <strong>COSMO</strong> input
folder on scratch (<code class="docutils literal notranslate"><span class="pre">cfg.cosmo_input/obs_nudging</span></code>).</p>
<p>Missing observation files are ignored.</p>
<p>Also copies the blacklist-file blklsttmp.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>config-object</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>dict</em>) – Model configuration settings loaded from the models.yaml file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.octe.main">
<span class="sig-prename descclassname"><span class="pre">jobs.octe.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/octe.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.octe.main" title="Permalink to this definition"></a></dt>
<dd><p>Copy necessary input files for <strong>COSMO</strong> and perturb BG.</p>
<p>Copies the NetCDF-files found at <code class="docutils literal notranslate"><span class="pre">cfg.octe_maps</span></code> and <code class="docutils literal notranslate"><span class="pre">cfg.octe_lambdas</span></code> to
the <strong>COSMO</strong> input-directory.</p>
<p>Perturbs the background tracer field. To do that, it reads the lambda-value
from the <code class="docutils literal notranslate"><span class="pre">cfg.octe_lambdas</span></code> (last value along the nparam-dimension) and
scales the BG-field produced by int2lm, creating a new variable for each
ensemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>config-object</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>config-object</em>) – Object holding configuration parameters specific to the model.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.oem.main">
<span class="sig-prename descclassname"><span class="pre">jobs.oem.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/oem.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.oem.main" title="Permalink to this definition"></a></dt>
<dd><p>Copy emission and profile files to the <strong>cosmo</strong> or <strong>icon</strong> input
directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>config-object</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>config-object</em>) – Object holding configuration parameters specific to the model.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If an error occurs during the process.</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.online_vprm.main">
<span class="sig-prename descclassname"><span class="pre">jobs.online_vprm.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/online_vprm.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.online_vprm.main" title="Permalink to this definition"></a></dt>
<dd><p>Copy MODIS surface reflectance data and vegetation class fraction file
to the <strong>cosmo</strong> input directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>config-object</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>config-object</em>) – Object holding configuration parameters specific to the model.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.photo_rate.main">
<span class="sig-prename descclassname"><span class="pre">jobs.photo_rate.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/photo_rate.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.photo_rate.main" title="Permalink to this definition"></a></dt>
<dd><p>Copy photolysis-rate file to the <strong>COSMOART</strong> input directory.</p>
<p>Only necessary for <strong>COSMOART</strong> simulations.</p>
<p>Copy the photolysis-rate file from the project (<cite>cfg.photo_rate_file</cite>) to
the <strong>COSMOART</strong> input folder on scratch (<cite>cfg.cosmo_input/art_photolysis</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>config-object</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>config-object</em>) – Object holding configuration parameters specific to the model.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.post_cosmo.main">
<span class="sig-prename descclassname"><span class="pre">jobs.post_cosmo.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/post_cosmo.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.post_cosmo.main" title="Permalink to this definition"></a></dt>
<dd><p>Copy the output of a <strong>COSMO</strong>-run to a user-defined position.</p>
<p>Write a runscript to copy all files (<strong>COSMO</strong> settings &amp; output,
<strong>int2lm</strong> settings, logfiles) from <code class="docutils literal notranslate"><span class="pre">cfg.cosmo_run</span></code>,
<code class="docutils literal notranslate"><span class="pre">cfg.cosmo_output</span></code>, <code class="docutils literal notranslate"><span class="pre">cfg.int2lm_run</span></code>, <code class="docutils literal notranslate"><span class="pre">cfg.log_finished_dir</span></code> to
<code class="docutils literal notranslate"><span class="pre">cfg.output_root/...</span></code>.
If the job <code class="docutils literal notranslate"><span class="pre">reduce_output</span></code> has been run before <code class="docutils literal notranslate"><span class="pre">post_cosmo</span></code>, a
directory <code class="docutils literal notranslate"><span class="pre">cfg.cosmo_output_reduced</span></code> is created. In this case,
<code class="docutils literal notranslate"><span class="pre">cfg.cosmo_output_reduced</span></code> is copied instead of <code class="docutils literal notranslate"><span class="pre">cfg.cosmo_output</span></code>.</p>
<p>Submit the job to the xfer-queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>config-object</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>config-object</em>) – Object holding configuration parameters specific to the model.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.post_int2lm.main">
<span class="sig-prename descclassname"><span class="pre">jobs.post_int2lm.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/post_int2lm.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.post_int2lm.main" title="Permalink to this definition"></a></dt>
<dd><p>Combine multiple <strong>int2lm</strong> tracer-output files into a single one for
<strong>COSMO</strong>.</p>
<p>Only necessary for <strong>COSMO</strong> simulations.</p>
<p><strong>int2lm</strong> puts tracers into different netCDF files. Combine the files
specified in <code class="docutils literal notranslate"><span class="pre">cfg.post_int2lm_species</span></code> into a single netCDF file for
<strong>COSMO</strong>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">cfg.spinup</span></code> and <code class="docutils literal notranslate"><span class="pre">cfg.post_int2lm_species_spinup</span></code> are present,
also read in the specified variables and take them as an input for
<strong>COSMO</strong>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>config-object</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>config-object</em>) – Object holding configuration parameters specific to the model.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.prepare_data.main">
<span class="sig-prename descclassname"><span class="pre">jobs.prepare_data.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/prepare_data.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.prepare_data.main" title="Permalink to this definition"></a></dt>
<dd><p><strong>ICON and COSMO Data Preparation</strong></p>
<p>This function prepares input data for ICON and COSMO simulations by creating necessary directories,
copying meteorological files, and handling specific data processing for each model.</p>
<p><strong>ICON:</strong></p>
<ul class="simple">
<li><p>Create directories <code class="docutils literal notranslate"><span class="pre">cfg.icon_input_icbc</span></code> and <code class="docutils literal notranslate"><span class="pre">cfg.icon_work</span></code>.</p></li>
<li><p>Submit the runscript for the DWD ICON tools to remap the meteorological files.</p></li>
<li><p>All runscripts specified in <code class="docutils literal notranslate"><span class="pre">cfg.icontools_runjobs</span></code> are submitted.</p></li>
<li><p>The meteorological files are read from the original input directory (<code class="docutils literal notranslate"><span class="pre">cfg.input_root_meteo</span></code>),
and the remapped meteorological files are saved in the input folder on scratch (<code class="docutils literal notranslate"><span class="pre">cfg.icon_input/icbc</span></code>).</p></li>
<li><p>The constant variable ‘GEOSP’ is added to the files not containing it using python-cdo bindings.</p></li>
</ul>
<p><strong>COSMO:</strong></p>
<ul class="simple">
<li><p>Copy meteorological files to <strong>int2lm</strong> input.</p></li>
<li><p>Create the necessary directory <code class="docutils literal notranslate"><span class="pre">cfg.int2lm_input/meteo</span></code>.</p></li>
<li><p>Copy meteorological files from the project directory (<code class="docutils literal notranslate"><span class="pre">cfg.meteo['dir']/cfg.meteo['prefix']YYYYMMDDHH</span></code>)
to the int2lm input folder on scratch (<code class="docutils literal notranslate"><span class="pre">cfg.int2lm_input/meteo</span></code>).</p></li>
<li><p>For nested runs (meteorological files are COSMO output: <code class="docutils literal notranslate"><span class="pre">cfg.meteo['prefix']</span> <span class="pre">==</span> <span class="pre">'lffd'</span></code>),
also copy the <code class="docutils literal notranslate"><span class="pre">*c.nc</span></code>-file with constant parameters.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>config-object</em>) – Object holding all user-configuration parameters as attributes.</p></li>
<li><p><strong>model_cfg</strong> (<em>model-config-object</em>) – Object holding model-specific configuration parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If any subprocess returns a non-zero exit code during execution.</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.reduce_output.main">
<span class="sig-prename descclassname"><span class="pre">jobs.reduce_output.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/reduce_output.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.reduce_output.main" title="Permalink to this definition"></a></dt>
<dd><p>Calculates 2D column data and writes them into a new netCDF file.
Only a fixed number of levels from <strong>COSMO</strong> output are considered.
Those files are written into a new directory <code class="docutils literal notranslate"><span class="pre">cosmo_output_reduced</span></code>.</p>
<p>The number of levels is set by the configuration variable
<code class="docutils literal notranslate"><span class="pre">cfg.reduce_output['output_levels']</span></code> (default = all levels).</p>
<p><strong>Important</strong>: If several <code class="docutils literal notranslate"><span class="pre">GRIBOUT</span></code> sections are used to split the output
data, then this code only works in case of the following:
The tracers, for which the column-averaged dry-air (<code class="docutils literal notranslate"><span class="pre">X</span></code>) and
moist-air (<code class="docutils literal notranslate"><span class="pre">Y</span></code>) mole fractions are calculated, have to be</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>saved in a separate output file and</p></li>
<li><p>the output file appears alphabetically <strong>after</strong> the meteorological
variables.</p></li>
</ol>
</div></blockquote>
<p>For example, use a GRIBOUT section suffix <code class="docutils literal notranslate"><span class="pre">_met</span></code> for standard <strong>COSMO</strong>
output, and <code class="docutils literal notranslate"><span class="pre">_trc</span></code> for tracers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>config-object</em>) – Object holding all user-configuration parameters as attributes</p></li>
<li><p><strong>model_cfg</strong> (<em>model-config-object</em>) – Object holding model-specific configuration parameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py function">
<dt class="sig sig-object py" id="jobs.verify_chain.main">
<span class="sig-prename descclassname"><span class="pre">jobs.verify_chain.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cfg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jobs/verify_chain.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jobs.verify_chain.main" title="Permalink to this definition"></a></dt>
<dd><p>Compare outputs of the chain to a reference.</p>
<p>Looks for the reference-file in <code class="docutils literal notranslate"><span class="pre">cfg.verify_chain['reference_dir']</span></code>.</p>
<p>Looks for the output file in <code class="docutils literal notranslate"><span class="pre">cfg.verify_chain['output_dir']</span></code> (if not <code class="docutils literal notranslate"><span class="pre">None</span></code>), else it
goes to the output directory created by the <strong>COSMO</strong>-job.</p>
<p>In the dict <code class="docutils literal notranslate"><span class="pre">cfg.verify_chain['values_to_check']</span></code>, the user specifies the names of the
files to be compared as keys, and the variables to compare as a list.</p>
<p>To compare the temperatures of the last output of the example case, the
following variables should be added to the <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verify_chain</span><span class="p">[</span><span class="s1">&#39;reference_dir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">input_root</span><span class="p">,</span> <span class="s2">&quot;reference_output&quot;</span><span class="p">)</span>
<span class="n">verify_chain</span><span class="p">[</span><span class="s1">&#39;output_dir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">verify_chain</span><span class="p">[</span><span class="s1">&#39;values_to_check&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{(</span><span class="s2">&quot;reference_lffd2015010200.nc&quot;</span><span class="p">,</span><span class="s2">&quot;lffd2015010200.nc&quot;</span><span class="p">):</span>
      <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">]}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>config-object</em>) – Object holding all user-configuration parameters as attributes</p></li>
<li><p><strong>model_cfg</strong> (<em>model-config-object</em>) – Object holding model configuration parameters as attributes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="namelists.html" class="btn btn-neutral float-left" title="Namelist and Runscript Templates" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tools.html" class="btn btn-neutral float-right" title="List of Available Tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2023, C2SM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>