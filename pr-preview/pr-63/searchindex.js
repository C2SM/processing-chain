Search.setIndex({"docnames": ["code-structure", "config", "environment", "features", "functions", "howtorun", "index", "jobs", "namelists"], "filenames": ["code-structure.rst", "config.rst", "environment.rst", "features.rst", "functions.rst", "howtorun.rst", "index.rst", "jobs.rst", "namelists.rst"], "titles": ["Code Structure", "Configuration File", "Conda Environment", "Feature Overview", "Jobs", "How to Run", "Processing Chain", "Overview", "Namelist and Runscript Templates"], "terms": {"The": [0, 1, 2, 4, 5, 6, 7, 8], "process": [0, 1, 2, 3, 5], "chain": [0, 1, 2, 7], "i": [0, 1, 2, 5, 6, 7, 8], "follow": [0, 1, 2, 5], "tree": 0, "l": 0, "3": [0, 1, 6], "f": [0, 2, 5], "dirsfirst": 0, "case": [0, 2, 3, 6, 7, 8], "folder": [0, 1, 3], "where": [0, 1, 5], "all": [0, 1, 2, 5, 7, 8], "ar": [0, 1, 2, 4, 5, 7, 8], "store": [0, 1, 6], "cosmo": [0, 3, 4, 5, 6, 8], "ghg": [0, 5, 6], "spinup": [0, 3, 5], "test": [0, 6], "restart": [0, 1, 3, 5, 7], "config": [0, 2, 5, 6, 7], "yaml": [0, 2, 5, 6, 7], "configur": [0, 5], "file": [0, 2, 5, 6, 7, 8], "cfg": [0, 1, 5, 8], "templat": [0, 1, 5, 6], "namelist": [0, 1, 5, 6], "batch": 0, "job": [0, 1, 3, 5, 8], "csv": [0, 8], "tracer": 0, "inform": [0, 1, 8], "testcas": 0, "standard": [0, 2, 6], "icon": [0, 3, 4, 5, 6, 7, 8], "art": [0, 5, 6, 7], "global": [0, 5], "domain": 0, "icon_runjob": [0, 1], "runjob": [0, 1], "sh": [0, 2, 5], "pre": [0, 3], "script": [0, 2, 5, 6, 8], "mypartab": 0, "oem": [0, 4, 5], "onlin": 0, "emiss": [0, 1, 4, 5], "doc": 0, "sphinx": 0, "document": [0, 2, 4, 7], "_static": 0, "static": 0, "asset": 0, "custom": [0, 3, 6, 7], "css": 0, "style": 0, "png": 0, "ico": 0, "addit": [0, 1, 5, 6, 7], "imag": 0, "tabl": 0, "us": [0, 1, 2, 3, 4, 5, 7, 8], "contain": [0, 1, 5, 7, 8], "data": [0, 1, 5, 6], "conf": 0, "py": [0, 1, 5, 7], "builder": 0, "rst": 0, "restructuredtext": 0, "env": [0, 2], "environ": [0, 6], "yml": [0, 2], "conda": [0, 6], "ext": 0, "other": [0, 4, 5, 7], "spack": [0, 5], "model": [0, 1, 3, 5, 6], "etc": [0, 1, 5], "jenkin": [0, 5], "autom": [0, 5], "individu": [0, 1, 5], "shell": 0, "jenkinsfil": 0, "text": [0, 8], "pipelin": 0, "tool": [0, 5, 6, 8], "licens": 0, "readm": 0, "md": 0, "class": [0, 1], "run_chain": [0, 1, 5, 7], "main": [0, 4, 5, 7, 8], "workflow": [0, 1, 3, 5, 7], "depend": [0, 1, 3, 5, 7], "describ": 1, "simul": [1, 5, 6, 7], "A": [1, 5, 8], "subdirectori": 1, "sever": [1, 5], "e": [1, 2], "g": [1, 2], "int2lm_input": [1, 5], "runscript": [1, 5, 6], "which": [1, 2, 5, 7], "defin": [1, 5, 6, 7], "casenam": [1, 5, 8], "most": [1, 4], "need": [1, 2], "prepar": [1, 6], "run": [1, 2, 3, 6, 7, 8], "exampl": [1, 3, 5, 7, 8], "locat": [1, 2, 8], "input": [1, 5, 6], "thi": [1, 5, 6, 7], "load": 1, "an": [1, 7], "instanc": 1, "non": 1, "exhaust": 1, "import": [1, 7], "descript": 1, "case_path": 1, "path": [1, 2], "directori": [1, 2, 6, 7, 8], "under": [1, 7], "specifi": [1, 5], "name": [1, 5], "deriv": 1, "from": [1, 5, 7, 8], "chain_src_dir": 1, "sourc": [1, 2], "typic": 1, "current": [1, 7], "work": [1, 2, 5], "compute_account": [1, 2], "comput": [1, 3, 6], "account": [1, 2, 5], "base": [1, 6, 7], "user": [1, 5, 6, 7], "constraint": 1, "gpu": 1, "mc": 1, "email": [1, 2], "": [1, 5, 7, 8], "address": [1, 2], "initi": 1, "none": 1, "updat": [1, 2], "set_email": 1, "method": 1, "enddat": 1, "end": 1, "date": 1, "iso": 1, "8601": 1, "format": [1, 8], "yyyi": 1, "mm": 1, "ddthh": 1, "ssz": 1, "execut": [1, 5, 7], "log_finished_dir": [1, 5], "finish": [1, 5, 7], "log": 1, "log_working_dir": [1, 5], "ntasks_per_nod": 1, "number": 1, "task": 1, "per": 1, "node": 1, "type": [1, 2], "restart_step": 1, "step": [1, 2, 3, 5, 6], "restart_step_hour": 1, "hour": 1, "attribut": 1, "run_on": 1, "architectur": 1, "cpu": 1, "spin": 1, "up": [1, 2, 5], "durat": 1, "activ": [1, 2], "behavior": [1, 5], "startdat": 1, "start": [1, 7], "user_mail": [1, 2], "determin": 1, "system": [1, 6], "user_nam": 1, "your": [1, 2, 6, 7], "receiv": 1, "notif": 1, "either": 1, "provid": [1, 2, 5], "directli": [1, 4], "here": [1, 4, 5], "forward": [1, 2], "self": 1, "one": [1, 4, 5], "work_root": [1, 5], "output": [1, 5], "should": [1, 2], "somewher": 1, "scratch": 1, "By": 1, "default": [1, 2, 5], "two": 1, "gener": [1, 5, 8], "12": 1, "pt6h": 1, "2015": 1, "01": 1, "01t00": 1, "00": 1, "00z": 1, "01t18": 1, "compute_queu": 1, "normal": [1, 8], "2018": 1, "01t12": 1, "eccodes_dir": 1, "eccodes_definit": 1, "iconremap_bin": 1, "iconremap": 1, "iconsub_bin": 1, "iconsub": 1, "latbc_filenam": 1, "ifs_": 1, "y": 1, "m": 1, "d": 1, "h": [1, 5], "_lbc": 1, "nc": [1, 5, 8], "inidata_prefix": 1, "ifs_init_": 1, "inidata_nameformat": 1, "inidata_filename_suffix": 1, "output_filenam": 1, "filename_format": 1, "_dom": 1, "physdom": 1, "_": 1, "ddhhmmss": 1, "lateral_boundary_grid_ord": 1, "lateral_boundari": 1, "art_input_fold": 1, "furthermor": 1, "ti": 1, "These": [1, 2, 5, 7, 8], "themselv": 1, "let": [1, 7], "have": [1, 2, 5, 7], "look": [1, 4, 5, 7], "meteo": [1, 5], "dir": 1, "prefix": [1, 2, 8], "laf": [1, 5], "nameformat": 1, "inc": 1, "1": [1, 6], "can": [1, 2, 5, 6], "access": [1, 7], "via": [1, 5, 7], "thei": [1, 5, 7], "python": [1, 5, 6, 8], "In": [1, 6, 7], "see": [1, 2, 5], "next": [1, 7], "section": 1, "doe": [1, 2, 6], "becaus": [1, 7], "how": [1, 6], "implement": [1, 6], "For": [1, 4, 7], "reason": 1, "automat": [1, 3], "creat": [1, 5, 6, 7], "new": [1, 6], "form": 1, "meteo_dir": 1, "meteo_prefix": 1, "make": [1, 7], "them": [1, 2, 7], "exist": 1, "element": 1, "those": [1, 2, 4], "pleas": [1, 2], "refer": 1, "within": [1, 2, 5], "prepare_cosmo": [1, 4, 5], "prepare_icon": [1, 4, 7], "icontool": [1, 4, 7, 8], "int2lm": [1, 4, 5, 8], "icontools_runjob": 1, "input_fil": 1, "chem": 1, "era5": 1, "cam": 1, "vprm": [1, 5], "bioflux": [1, 4, 5], "online_vprm": [1, 4, 5], "oct": [1, 4], "post_int2lm": [1, 4, 5], "post_cosmo": [1, 4, 5], "reduce_output": [1, 4], "photo_r": [1, 4], "check_output": [1, 4], "obs_nudg": [1, 4], "verify_chain": [1, 4], "allow": 2, "you": [2, 5], "own": [2, 3, 6], "virtual": 2, "we": [2, 7], "recommend": 2, "usag": 2, "instruct": 2, "onli": [2, 5], "perform": 2, "onc": 2, "home": 2, "itself": 2, "project": 2, "otherwis": 2, "risk": 2, "fill": 2, "below": 2, "To": [2, 5], "latest": 2, "wget": 2, "http": 2, "repo": 2, "anaconda": 2, "com": 2, "miniconda3": 2, "linux": 2, "x86_64": 2, "bash": 2, "further": 2, "detail": 2, "found": 2, "page": 2, "proc": 2, "requir": [2, 6], "abl": [2, 5], "simpli": [2, 5], "instead": [2, 5], "full": [2, 5], "add": [2, 7], "bashrc": 2, "export": 2, "conda_envs_path": 2, "If": [2, 5], "alreadi": [2, 5], "want": 2, "prune": 2, "regist": 2, "echo": 2, "your_account_id": 2, "acct": 2, "your_email_address": 2, "set": [2, 5, 6], "option": [2, 5], "first": [2, 5], "check": 2, "content": 2, "desir": [2, 5], "correspond": [2, 5, 8], "variabl": [2, 6, 8], "overridden": 2, "asynchron": 3, "submiss": [3, 6, 7], "hpc": [3, 6], "queue": [3, 6], "intuit": 3, "definit": [3, 7], "cycl": 3, "over": 3, "time": [3, 5, 7], "period": 3, "includ": [3, 6], "structur": [3, 6], "creation": 3, "variou": [3, 6], "post": [3, 6], "built": 3, "nest": [3, 5], "possibl": 3, "easi": 3, "avail": [3, 5, 7], "collect": 4, "function": [4, 5, 7, 8], "well": [4, 5, 8], "list": [4, 5, 7], "mai": [4, 5], "take": [4, 5, 7], "cams4int2cosmo": 4, "check_model": 4, "comp_nc": 4, "datasets_equ": 4, "ctnoaa4int2cosmo": 4, "mozart2int2lm": 4, "reduce_output_start_end": 4, "string2char": 4, "vprmsplit": 4, "write_cosmo_input_ghg": [4, 8], "write_int2lm_input_art": [4, 8], "root": 5, "It": [5, 6], "read": [5, 8], "command": 5, "line": 5, "respect": [5, 7, 8], "Then": 5, "ha": [5, 7], "necessari": [5, 8], "also": [5, 7], "submit": [5, 7], "sbatch": [5, 7], "technic": 5, "singl": 5, "achiev": 5, "case1": 5, "case2": 5, "With": 5, "afterward": 5, "There": 5, "argument": [5, 7], "chang": 5, "help": 5, "show": 5, "messag": 5, "exit": 5, "j": 5, "job_list": 5, "handl": [5, 6], "aspect": 5, "copi": 5, "launch": [5, 7], "order": [5, 7], "given": [5, 7], "forc": 5, "redo": 5, "even": 5, "been": 5, "were": 5, "previous": 5, "warn": 5, "logfil": 5, "get": 5, "delet": 5, "effect": [5, 7], "overwritten": 5, "caus": 5, "error": 5, "unexpect": 5, "r": 5, "resum": 5, "last": [5, 7], "unfinish": 5, "call": [5, 7], "restart_run": 5, "divid": 5, "accord": 5, "run_chunk": 5, "each": 5, "part": [5, 7], "chunk": [5, 7], "slurm": [5, 7], "workload": [5, 7], "manag": [5, 7], "setup": 5, "compil": 5, "separ": 5, "undergo": 5, "regulari": 5, "ensur": 5, "correctli": 5, "plan": 5, "weekli": 5, "basi": 5, "when": 5, "trigger": 5, "github": 5, "pull": 5, "request": 5, "like": 5, "chain_root": 5, "checkpoint": 5, "cosmo_bas": 5, "cosmo_work": 5, "cosmo_output": 5, "cosmo_restart_out": 5, "int2lm_bas": 5, "int2lm_work": 5, "int2lm_output": 5, "As": 5, "both": 5, "preprocessor": 5, "addition": 5, "alwai": [5, 7], "hold": 5, "whenev": 5, "successfulli": 5, "sub": 5, "therefor": 5, "produc": 5, "four": [5, 7], "level": 5, "deep": 5, "2015010100_2015010106": 5, "lffd": 5, "lrff00060000o": 5, "input_": 5, "yu": 5, "extpar": 5, "icbc": 5, "lbfd": 5, "input_art": [5, 8], "2015010106_2015010112": 5, "design": 6, "streamlin": 6, "weather": 6, "climat": 6, "facilit": [6, 8], "essenti": [6, 8], "csc": 6, "support": 6, "version": 6, "equip": 6, "variant": 6, "notabl": 6, "greenhous": 6, "ga": 6, "extens": 6, "aerosol": 6, "reactiv": 6, "trace": 6, "gase": 6, "easili": 6, "meet": 6, "specif": 6, "integr": 6, "auxiliari": 6, "featur": [6, 7], "overview": 6, "instal": 6, "miniconda": 6, "2": 6, "what": 6, "code": 6, "ad": 6, "prepare_art": 7, "consist": 7, "howev": 7, "same": 7, "some": 7, "previou": 7, "sinc": 7, "note": 7, "had": 7, "anoth": 7, "without": 7, "would": 7, "parallel": 7, "keyword": 7, "target": 7, "mean": 7, "wait": 7, "until": 7, "ones": 7, "flowchart": 7, "simpl": 7, "jobnam": 7, "everi": 7, "sure": 7, "docstr": 7, "__init__": 7, "dynam": 8, "paramet": 8, "alongsid": 8, "enclos": 8, "curli": 8, "brace": 8, "dure": 8, "runtim": 8, "result": 8, "string": 8, "through": 8, "substitut": 8, "valu": 8, "subsequ": 8, "save": 8, "actual": 8, "example_namelist": 8, "namelist_var": 8, "suffix": 8, "pref_suff": 8, "write": 8, "disk": 8, "special": 8, "input_ghg": 8}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"code": 0, "structur": [0, 5], "configur": [1, 6], "file": 1, "variabl": 1, "set": 1, "config": 1, "yaml": 1, "header": 1, "cosmo": 1, "ghg": 1, "spinup": 1, "test": [1, 5], "case": [1, 5], "icon": 1, "art": 1, "oem": 1, "further": 1, "list": 1, "dictionari": 1, "conda": 2, "environ": 2, "1": 2, "instal": 2, "miniconda": 2, "2": 2, "creat": 2, "3": 2, "store": 2, "user": 2, "specif": 2, "data": 2, "featur": 3, "overview": [3, 7], "job": [4, 6, 7], "tool": 4, "how": 5, "run": 5, "start": [5, 6], "chain": [5, 6], "what": 5, "doe": 5, "directori": 5, "process": 6, "get": 6, "workflow": 6, "api": 6, "ad": 7, "new": 7, "namelist": 8, "runscript": 8, "templat": 8}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 58}, "alltitles": {"Code Structure": [[0, "code-structure"]], "Configuration File": [[1, "configuration-file"]], "Configuration Variables": [[1, "configuration-variables"]], "Variables to Set in config.yaml": [[1, "variables-to-set-in-config-yaml"]], "Header of config.yaml for the cosmo-ghg-spinup-test case": [[1, "header-of-config-yaml-for-the-cosmo-ghg-spinup-test-case"]], "Header of config.yaml for the icon-art-oem-test case": [[1, "header-of-config-yaml-for-the-icon-art-oem-test-case"]], "Further variables": [[1, "further-variables"]], "List of dictionary variables": [[1, "list-of-dictionary-variables"]], "Conda Environment": [[2, "conda-environment"]], "1. Install Miniconda": [[2, "install-miniconda"]], "2. Create the Conda Environment": [[2, "create-the-conda-environment"]], "3. Store user-specific data": [[2, "store-user-specific-data"]], "Feature Overview": [[3, "feature-overview"]], "Jobs": [[4, "jobs"]], "Tools": [[4, "tools"]], "How to Run": [[5, "how-to-run"]], "Starting the Chain": [[5, "starting-the-chain"]], "What it Does": [[5, "what-it-does"]], "Test Cases": [[5, "test-cases"]], "Directory Structure": [[5, "directory-structure"]], "Processing Chain": [[6, "processing-chain"]], "Getting Started": [[6, null]], "Configuration": [[6, null]], "Jobs & Workflows": [[6, null]], "API": [[6, null]], "Overview": [[7, "overview"]], "Adding New Jobs": [[7, "adding-new-jobs"]], "Namelist and Runscript Templates": [[8, "namelist-and-runscript-templates"]]}, "indexentries": {}})